# 📆 2025-01-13

# 🔔 스크럼

- 학습 목표 1 : Docker DNS 키워드 

<br/>

# 🚀 Today I Learned

Docker 컨테이너를 사용할 때, 네트워크는 컨테이너와 외부의 통신을 가능하게 하는 중요한 역할을 한다. 

이때 컨테이너 네트워킹의 기본적인 요소 중 하나는 **DNS(Domain Name System)**이다.

DNS를 통해 컨테이너는 IP 주소에 의존하지 않고, **도메인 이름을 사용해 서로를 발견하고 통신**할 수 있다.


**DNS (Domain Name Seystem)**

사람이 읽을 수 있는 도메인 이름을 IP 주소로 변환하는 계층적이고 분산된 네이밍 시스템


## Docker DNS Resolution

Docker에서 DNS Resolution은 **동일 네트워크에 있는 컨테이너의 도메인 이름을 IP 주소로 변환하는 과정**을 의미한다.

Docker는 **내장된 DNS 서비스를 제공**하며, 이를 통해 Docker 네트워크 내에서 컨테이너가 올바른 IP 주소로 도메인 이름을 해석할 수 있다. 

이때 Docker 컨테이너는 Docker 데몬이 제공하는 내장 DNS 서버를 사용한다.

## Docker의 기본 DNS 설정

Docker 네트워크를 생성하면, Docker는 자동으로 **네트워크 내 컨테이너를 위한 DNS Resolution을 설정**한다.

**사용자 정의 네트워크에서의 Docker DNS 동작** 

1. **내장 DNS 리졸버 제공**
    - Docker는 내장 DNS 리졸버를 통해 컨테이너의 DNS 쿼리를 처리한다.
    - 기본적으로 `127.0.0.11` 에서 동작하며, 컨테이너가 보내는 DNS 요청을 받아 **적절한 외부 DNS 서버로 전달하여 해석**한다.
2. **컨테이너 이름 기반의 호스트 이름 사용**
    - 기본적으로 **컨테이너 이름이 호스트 이름으로 설정**되며, 네트워크 내에서 이름 기반 통신을 지원한다.
3. **자동 DNS 별칭 제공**
    - Docker는 네트워크 내 컨테이너 간 통신을 위해 **자동으로 DNS 별칭을 생성**한다.
    - 컨테이너 이름은 **Docker 네트워크의 내장 DNS 서버에 등록**되며, **이름을 IP 주소로 해석할 수 있도록 매핑**된다.
    - 이를 통해 컨테이너는 서로의 이름을 도메인처럼 사용하여 통신할 수 있다.


**기본 브리지 네트워크 주의사항**

- 기본 브리지 네트워크에서는 컨테이너 이름을 통해 다른 컨테이너에 접근할 수 없다.
- 그 이유는 Docker의 내장 DNS 서비스가 작동하지 않기 때문이다.
- 컨테이너 간 통신은 **IP 주소를 직접 사용**해야 한다.



## Reference
- https://medium.com/@prajwal.chin/understanding-docker-dns-2ed4b070a0

<!--
- 오늘의 학습 경험에 대한 자유로운 생각이나 느낀 점을 기록합니다.
- 성공적인 점, 개선해야 할 점, 새롭게 시도하고 싶은 방법 등을 포함할 수 있습니다.-->
