# π“† 2024-11-27

# π”” μ¤ν¬λΌ

- ν•™μµ λ©ν‘ 1 : SSL, TLS, HTTPS
<br/>

# π€ Today I Learned

## SSLμ™€ TSL


SSL(Secure Sockets Layer)μ™€ TLS(Transport Layer Security)λ” **μΈν„°λ„· μƒμ—μ„ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ „μ†΅ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” μ•”νΈν™” ν”„λ΅ν† μ½**μ΄λ‹¤.

SSLμ€ μ΄κΈ° λ²„μ „μ μ•”νΈν™” ν”„λ΅ν† μ½μ΄λ©°, TLSλ” SSLμ **λ³΄μ• μ·¨μ•½μ κ³Ό μ„±λ¥μ„ κ°μ„ ν• λ²„μ „**μ΄λ‹¤. ν„μ¬ λ€λ¶€λ¶„μ μΈν„°λ„· ν†µμ‹ μ—μ„λ” TLSλ¥Ό μ‚¬μ©ν•λ‹¤.

TLSλ” λ‹¤μκ³Ό κ°™μ€ μ„Έ κ°€μ§€ λ³΄μ• λ©ν‘λ¥Ό λ‹¬μ„±ν•¨μΌλ΅μ¨, μ•μ „ν•μ§€ μ•μ€ μΈν„°λ„·μ—μ„ μ•μ „ν• ν†µμ‹  μ±„λ„μ„ λ§λ“¤ μ μλ‹¤.

**1. μΈμ¦μ„±(Authenticity)**

ν΄λΌμ΄μ–ΈνΈ/μ„λ²„κ°€ ν†µμ‹ ν•λ ¤λ” **μƒλ€λ°©μ΄ μ  3μκ°€ μ•„λ‹μ„ μΈμ¦**ν•λ” κ²ƒ

**2. κΈ°λ°€μ„±(Confidentiality)** 

**ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ§μ΄ μ„λ΅κ°€ μ£Όκ³ λ°›λ” λ°μ΄ν„°λ¥Ό μ½μ„ μ μκ³ **, κ·Έ μ™Έ μ  3μλ” λ¶κ°€λ¥ν•κ² ν•λ” κ²ƒ

**3. λ¬΄κ²°μ„±(Integrity)**

ν΄λΌμ΄μ–ΈνΈ/μ„λ²„κ°€ λ³΄λ‚΄λ” **λ°μ΄ν„°κ°€ λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥**ν•λ” κ²ƒ


### Cipher Suite

```
TLS_{ν‚¤ ν•©μ ν”„λ΅ν† μ½}_{μΈμ¦ λ°©λ²•}_WITH_{μ•”νΈν™” κΈ°λ²•}_{λ°μ΄ν„° λ¬΄κ²°μ„± μ²΄ν¬ λ°©λ²•}
```


TLSλ” μ•μ „ν• ν†µμ‹ μ„ μ„ν•΄ **λ³΄μ• λ©ν‘λ¥Ό λ‹¬μ„±ν•  μ μλ” μ•”νΈν™” κΈ°λ²•μ„ μ—¬λ¬ κ°€μ§€ μ΅°ν•©**ν•μ—¬ μ•”νΈν™” λ¨μμ„ λ§λ“ λ‹¤. μ΄ μ•”νΈν™” λ¨μμ„ Cipher SuiteλΌκ³  ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ μ ν• Cipher Suiteλ¥Ό μ„ νƒν•λ©΄, μ„Έ κ°€μ§€ λ³΄μ• λ©ν‘λ¥Ό λ‹¬μ„±ν•  μ μλ‹¤.

- μΈμ¦μ„± β†’ μΈμ¦ λ°©λ²• (e.g. RSA)
- κΈ°λ°€μ„± β†’ μ•”νΈν™” κΈ°λ²• (e.g. AES_256_DBC)
- λ¬΄κ²°μ„± β†’ λ°μ΄ν„° λ¬΄κ²°μ„± μ²΄ν¬ λ°©λ²• (e.g. SHA256) 


## HTTPS


HTTPS(HyperText Transfer Protocol Secure)λ” **HTTP ν”„λ΅ν† μ½μ— SSL/TLS μ•”νΈν™”λ¥Ό μ μ©**ν•μ—¬ λ³΄μ•μ„ κ°•ν™”ν• ν”„λ΅ν† μ½μ΄λ‹¤.

μ¦‰, HTTPSλ” HTTPλ¥Ό κΈ°λ°μΌλ΅ ν†µμ‹ ν•μ§€λ§ **μ•”νΈν™”λ¥Ό μ„ν• λ³„λ„μ ν‘μ κ³Όμ •(TLS Handshake)**μ„ κ±°μ³μ•Όν•λ” ν”„λ΅ν† μ½μ΄λ‹¤.


### λ€μΉ­ ν‚¤ μ•”νΈν™” λ°©μ‹

![text](https://cdn-images-1.medium.com/max/1600/0*FqRQW2Sffylf_lbR)


λ€μΉ­ ν‚¤ μ•”νΈν™” λ°©μ‹μ€ **ν•λ‚μ ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”**ν•λ” μ•”νΈν™” λ°©μ‹μ΄λ‹¤. μ΄λ• ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” **λ™μΌν• ν‚¤λ¥Ό κ³µμ **ν•΄μ•Ό ν•κ³  μ΄ ν‚¤λ” μ™Έλ¶€μ— λ…Έμ¶λμ–΄μ„λ” μ•λλ‹¤. λ€ν‘μ μΌλ΅ AESκ°€ μλ‹¤.

λ€μΉ­ ν‚¤ μ•”νΈν™”λ” **μ•”νΈν™”/λ³µνΈν™” μν–‰ μ†λ„κ°€ λΉ λ¥΄λ‹¤**λ” μ¥μ μ΄ μκ³ , ν‚¤λ¥Ό κ°€μ§€κ³  μλ” μ½μ—μ„λ§ μ•”νΈν™”/λ³µνΈν™”λ¥Ό ν•  μ μλ‹¤λ” μ μ—μ„ κΈ°λ°€μ„±, μ•½κ°„μ μΈμ¦μ„±μ„ λ³΄μ¥ν•  μ μλ‹¤.

### κ³µκ° ν‚¤ μ•”νΈν™” λ°©μ‹

![](https://cdn-images-1.medium.com/max/1600/0*zd4M7KS7XSUtHKmd)

κ³µκ° ν‚¤ μ•”νΈν™” λ°©μ‹μ€ **λΉ„λ€μΉ­ ν‚¤ μ•”νΈν™” λ°©μ‹**μΌλ΅λ„ λ¶λ¦¬λ©°, **λ‘ κ°μ ν‚¤(κ³µκ° ν‚¤μ™€ κ°μΈ ν‚¤)λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”**ν•λ” μ•”νΈν™” λ°©μ‹μ΄λ‹¤. λ€ν‘μ μΌλ΅ RSAκ°€ μλ‹¤.

HTTPSμ—μ„ κ³µκ° ν‚¤ μ•”νΈν™”λ” **μ•”νΈν™”/λ³µνΈν™”μ— λ“λ” λΉ„μ©μ΄ ν¬κΈ°** λ•λ¬Έμ— μΌλ°μ μΈ μ•”νΈν™” ν†µμ‹ λ³΄λ‹¤λ” **μ‹¤μ  μ•”νΈν™”μ— μ‚¬μ©ν•  μ„Έμ… ν‚¤(λ€μΉ­ ν‚¤)λ¥Ό κµν™**ν•  λ• μ£Όλ΅ μ‚¬μ©λλ‹¤.

## HTTPS ν†µμ‹  κ³Όμ •

### μ „μ²΄ ν”„λ΅μ„Έμ¤

![](https://cdn-images-1.medium.com/max/1600/0*8YclDbTxqj9B9kDd)


1. μ„λ²„λ” ν• μμ κ³µκ° ν‚¤μ™€ κ°μΈ ν‚¤λ¥Ό μƒμ„±ν• λ’¤, μ„λ²„μ κ°μΆ… μ •λ³΄μ™€ κ³µκ° ν‚¤λ¥Ό μΈμ¦κΈ°κ΄€(CA)μ— μ „λ‹¬ν•μ—¬ **SSL/TLS μΈμ¦μ„ μƒμ„±μ„ μ”μ²­**ν•λ‹¤.

2. μΈμ¦κΈ°κ΄€(CA)λ” μ„λ²„λ΅λ¶€ν„° λ°›μ€ μ”μ²­μ„ ν™•μΈν•κ³  κ²€μ¦μ΄ μ™„λ£λλ©΄, **SSL/TLS μΈμ¦μ„λ¥Ό μƒμ„±**ν•λ‹¤. μ΄λ• μΈμ¦μ„μ—λ” λ‹¤μκ³Ό κ°™μ€ μ •λ³΄λ“¤μ΄ ν¬ν•¨λλ‹¤.

- μ„λ²„μ κ³µκ° ν‚¤
- μ„λ²„ λ„λ©”μΈ μ •λ³΄

  μ΄ν›„ μΈμ¦κΈ°κ΄€μ€ ν• μμ κ³µκ° ν‚¤μ™€ κ°μΈ ν‚¤λ¥Ό μƒμ„±ν•κ³  **κ°μΈ ν‚¤λ΅ SSL/TLS μΈμ¦μ„μ— λ””μ§€ν„Έ μ„λ…μ„ μ¶”κ°€**ν• λ’¤ μ„λ²„μ—κ² λ°ν™ν•λ‹¤. μ„λ²„λ” μ΄λ¥Ό μ „λ‹¬λ°›κ³  κ²μ‹ν•λ‹¤.

3. λΈλΌμ°μ €λ” μ„λ²„λ΅λ¶€ν„° SSL/TLS μΈμ¦μ„λ¥Ό μ „λ‹¬λ°›κ³  ν•΄λ‹Ή μΈμ¦μ„λ¥Ό κ²€μ¦ν•λ‹¤. μ΄λ• λΈλΌμ°μ €λ” **μΈμ¦κΈ°κ΄€(CA)μ κ³µκ° ν‚¤λ¥Ό μ‚¬μ©**ν•λ‹¤. κ²€μ¦ κ³Όμ •μ—μ„λ” λ‹¤μ ν•­λ©λ“¤μ„ ν™•μΈν•λ‹¤.

- μΈμ¦μ„μ μ„λ…μ΄ CAμ κ³µκ° ν‚¤λ΅ κ²€μ¦λλ”μ§€
- μΈμ¦μ„μ λ„λ©”μΈμ΄ μ”μ²­ν• λ„λ©”μΈκ³Ό μΌμΉν•λ”μ§€
- μΈμ¦μ„μ μ ν¨ κΈ°κ°„ ν™•μΈ

4. μΈμ¦μ„ κ²€μ¦μ΄ μ„±κ³µν•λ©΄ **λΈλΌμ°μ €λ” μ„λ²„λ¥Ό μ‹ λΆ°**ν•κ³ , μ „λ‹¬λ°›μ€ μΈμ¦μ„μ— ν¬ν•¨λ **μ‹¤μ  λ°μ΄ν„° μ•”νΈν™”μ— μ‚¬μ©ν•  μ„Έμ… ν‚¤(λ€μΉ­ ν‚¤)λ¥Ό μƒμ„±ν• λ’¤ μ„λ²„μ κ³µκ° ν‚¤λ΅ μ΄λ¥Ό μ•”νΈν™”ν•μ—¬ μ„λ²„μ— μ „λ‹¬**ν•λ‹¤.

5. μ„λ²„λ” λΈλΌμ°μ €κ°€ μ „λ‹¬ν• **μ„Έμ… ν‚¤λ¥Ό μ„λ²„μ κ°μΈ ν‚¤λ΅ λ³µνΈν™”**ν•¨μΌλ΅μ¨, λΈλΌμ°μ €μ™€ μ„λ²„λ” λ™μΌν• μ„Έμ… ν‚¤λ¥Ό κ°€μ§€κ² λλ‹¤. μ΄ν›„ **λΈλΌμ°μ €μ™€ μ„λ²„ κ°„μ λ°μ΄ν„° κµν™μ€ μ„Έμ… ν‚¤ μ•”νΈν™”λ¥Ό ν†µν•΄ μν–‰**λλ‹¤.


## TLS Handshake

TLS Handshakeλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ **μ‹¤μ  μ•”νΈν™” ν†µμ‹ μ„ ν•κΈ° μ„ν•΄ μ„λ΅ μΈμ¦ν•κ³  μ•”νΈν™” ν‚¤λ¥Ό κµν™**ν•λ” κ³Όμ •μ΄λ‹¤. 

μ¦‰, μ„λ΅μ μ‹ μ›μ„ νμ•…ν•κ³ , μ‚¬μ©ν•  Cipher Suiteλ¥Ό μ„ νƒν•λ©°, μ‹¤μ  λ°μ΄ν„°λ¥Ό μ•”νΈν™”/λ³µνΈν™”ν•  μ„Έμ… ν‚¤λ¥Ό μƒμ„±ν•¨μΌλ΅μ¨ TLS λ³΄μ• μ±„λ„μ„ λ§λ“¤μ–΄κ°€λ” κ³Όμ •μ΄λ‹¤.

μ΄ν›„ λ§λ“¤μ–΄μ§„ TLS λ³΄μ• μ±„λ„μ„ ν†µν•΄ μ•”νΈν™”/λ³µνΈν™”λ¥Ό μ§„ν–‰ν•λ©΄μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μκ² λλ‹¤.

### TLS 1.2 λ²„μ „

![text](https://cdn-images-1.medium.com/max/1600/0*Vp5YBSfbOdKCA7eY)


Client Hello λ‹¨κ³„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ” **μμ‹ μ΄ μ‚¬μ©ν•  TLS λ²„μ „, μ‚¬μ© κ°€λ¥ν• Cipher Suiteλ¥Ό μ„λ²„μ— μ „μ†΅**ν•λ‹¤.

Server Hello λ‹¨κ³„μ—μ„ μ„λ²„λ” **ν΄λΌμ΄μ–ΈνΈμ Cipher Suite μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•κ³  μ„λ²„μ μΈμ¦μ„μ™€ ν•¨κ» ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅**ν•λ‹¤.

ClientKeyExchange λ‹¨κ³„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ” **μ„λ²„μ μΈμ¦μ„λ¥Ό κ²€μ¦**ν•κ³  **μ„Έμ… ν‚¤λ¥Ό μƒμ„±ν• λ’¤ μ„λ²„μ κ³µκ° ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ μ„λ²„μ— μ „λ‹¬**ν•λ‹¤.

ChangeCipherSpecμ€ μ΄ν›„ λ³΄λ‚Ό λ¨λ“  λ©”μ‹μ§€κ°€ μ•”νΈν™”λ  κ²ƒμ„μ„ μƒλ€μ—κ² μ•λ¦¬λ” μ©λ„μ΄λ‹¤.

μ΄λ• μ„Έμ… ν‚¤ κµν™μ€ RSA λ°©μ‹μΌλ΅ μν–‰λλ‹¤. RSA λ°©μ‹μ€ **κ°μΈ ν‚¤κ°€ μ μ¶λ  κ²½μ° κ·Έ λ™μ•μ ν†µμ‹ μ΄ λ¨λ‘ λ…Έμ¶λ  μ„ν—**μ΄ μλ‹¤.

![text](https://cdn-images-1.medium.com/max/1600/0*HBO_GA0lFw0STHhh)

### TLS 1.3 λ²„μ „

![alt text](https://www.appviewx.com/wp-content/uploads/2022/03/Improved-Performance-and-Efficiency.png)


TLS 1.3μ€ **RTT(Round Trip Time, μ”μ²­ ν›„ μ‘λ‹µκΉμ§€ κ±Έλ¦¬λ” μ‹κ°„)λ¥Ό μ¤„μ—¬ μ†λ„λ¥Ό κ°μ„ **ν–λ‹¤. 

Handshakeλ” ν¬κ² μ²μ μ—°κ²°ν•λ” κ²½μ°μ™€ μ¬μ—°κ²°ν•λ” κ²½μ°λ΅ λ‚λ‰λ”λ°, TLS 1.3μ€ μ²μ μ—°κ²° μ‹ 1-RTTλ¥Ό μ†μ”ν•κ³ , μ¬μ—°κ²° μ‹μ—λ” 0-RTTλ¥Ό μ†μ”ν•λ‹¤

![text](https://cdn-images-1.medium.com/max/1600/0*c41cwd4iFvrDBNI-)

λν•, TLS 1.3μ€ **Diffie-Hellman ν‚¤ κµν™ μ•κ³ λ¦¬μ¦μ„ ν†µν•΄ λ³΄μ• λ¬Έμ μ λ„ κ°μ„ **ν–λ‹¤.

μ΄ λ°©μ‹μ€ **μ„Έμ… ν‚¤λ¥Ό λ§λ“¤ μ μλ” ννΈλ§μ„ μ κ³µν•κΈ° λ•λ¬Έμ— λ³µνΈν™”κ°€ λ¶κ°€λ¥**ν•λ‹¤.

μ°μ„  ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” ν†µμ‹ μ— μ‚¬μ©ν•  κ³µκ° ν‚¤(λ…Έλ‘)λ¥Ό μ •ν•λ‹¤. μ΄ν›„ κ°κ° μ„μ‹ κ°μΈ ν‚¤(ν΄λΌμ΄μ–ΈνΈ: λΉ¨κ°•, μ„λ²„: μ²­λ΅)λ¥Ό μƒμ„±ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ‘ λ‹¤ κ°μΈ ν‚¤λ¥Ό μ „λ‹¬ν•μ§€ μ•κ³  **κ³µκ° ν‚¤μ™€ κ°μΈ ν‚¤λ¥Ό μ΅°ν•©(ν΄λΌμ΄μ–ΈνΈ: μ¤λ μ§€, μ„λ²„: νλ‘)ν•μ—¬ μ„λ΅μ—κ² μ „λ‹¬**ν•λ‹¤

κ°μ μ „λ‹¬λ°›μ€ μ΅°ν•© ν‚¤μ— μμ‹ μ μ„μ‹ κ°μΈ ν‚¤λ¥Ό ν™μ©ν•μ—¬ μ„Έμ… ν‚¤λ¥Ό μƒμ„±ν•κ³  λ²„λ¦°λ‹¤. (μ΄ν›„ νƒμ·¨λ‹Ήν•  κ°€λ¥μ„±μ„ λ°°μ ν•κΈ° μ„ν•΄) 


## Reference

https://yozm.wishket.com/magazine/detail/1852/

https://tech.buzzvil.com/blog/atech-blog-hello-tls-1-3/
<br/>

# π”¥ μ¤λμ λ„μ „ κ³Όμ μ™€ ν•΄κ²° λ°©λ²•

- SSL, TLS, HTTPS μ— λ€ν•΄μ„ ν•™μµ !

<br/>

# π—¨οΈ μ¤λμ νκ³ 



<!--
- μ¤λμ ν•™μµ κ²½ν—μ— λ€ν• μμ λ΅μ΄ μƒκ°μ΄λ‚ λλ‚€ μ μ„ κΈ°λ΅ν•©λ‹λ‹¤.
- μ„±κ³µμ μΈ μ , κ°μ„ ν•΄μ•Ό ν•  μ , μƒλ΅­κ² μ‹λ„ν•κ³  μ‹¶μ€ λ°©λ²• λ“±μ„ ν¬ν•¨ν•  μ μμµλ‹λ‹¤.-->

