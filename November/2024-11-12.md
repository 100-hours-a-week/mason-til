# ğŸ“† 2024-11-12

# ğŸ”” ìŠ¤í¬ëŸ¼

- í•™ìŠµ ëª©í‘œ 1 : ë¦¬ì•¡íŠ¸ (í´ë˜ìŠ¤ ê¸°ë°˜) ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸°

<br/>

# ğŸš€ Today I Learned

React 16.8 ë²„ì „ë¶€í„° Hookì´ ë„ì…ëœ ì´í›„ í´ë˜ìŠ¤ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¡œ ë§ì€ ì „í™˜ì´ ì¼ì–´ë‚¬ë‹¤ê³  í•œë‹¤. 

ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  í´ë˜ìŠ¤ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ì— ëŒ€í•´ ì•Œì•„ë³´ëŠ” ì‹œê°„ì„ í†µí•´ì„œ í´ë˜ìŠ¤ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹„êµí–ˆì„ ë•Œ ì–´ë–¤ íŠ¹ì§•ì´ ìˆê³  ì¥ë‹¨ì ì´ ìˆëŠ”ì§€ ë” ìì„¸í•˜ê³  ê¹Šê²Œ ì´í•´í•´ë³´ë ¤ í•œë‹¤.

## ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸° (Component Life Cycle)


ë¦¬ì•¡íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ëŠ” **ë§ˆìš´íŒ…(mounting), ì—…ë°ì´íŒ…(updating), ì–¸ë§ˆìš´íŒ…(unmounting)**ìœ¼ë¡œ í¬ê²Œ ì„¸ ê°€ì§€ ì£¼ìš” ë‹¨ê³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

ìƒëª…ì£¼ê¸°ì˜ ê° ë‹¨ê³„ëŠ” íŠ¹ì • ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ì¼ë ¨ì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤. 

ì´ëŸ¬í•œ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë“¤ì€ **í´ë˜ìŠ¤ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„í•œ ê²ƒ**ì´ê³ , í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” ìì²´ ìˆ˜ëª… ì£¼ê¸° ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.

![alt text](https://miro.medium.com/v2/resize:fit:1100/format:webp/1*_d25u0_0n_LJD_yEuT5NUA.png)

## ë§ˆìš´íŒ… (Mounting Phase)


ë§ˆìš´íŒ… ë‹¨ê³„ëŠ” **ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ì–´ DOMì— ì‚½ì…ë˜ëŠ” ë‹¨ê³„**ì´ë‹¤. ë§ˆìš´íŒ…ì€ **ë‹¨ í•œ ë²ˆë§Œ ìˆ˜í–‰**ëœë‹¤.

ë§ˆìš´íŒ… ë‹¨ê³„ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ 4ê°œì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.  
- constructor
- getDerivedStateFromProps
- render
- componentDidMount


### constructor()


constructor()ëŠ” ë§ˆìš´íŒ… ë‹¨ê³„ì—ì„œ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œì´ë‹¤.

ì´ ë©”ì„œë“œëŠ” ì£¼ë¡œ **ì»´í¬ë„ŒíŠ¸ì˜ stateë¥¼ ì´ˆê¸°í™”**í•˜ê³  ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì‚¬ìš©ë  **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë°”ì¸ë”©**í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.

ì»´í¬ë„ŒíŠ¸ê°€ stateë¥¼ ê°–ê²Œí•˜ë ¤ë©´ constructor()ì— propsë¥¼ ì „ë‹¬í•˜ê³  ë©”ì„œë“œ ë‚´ì—ì„œ super(props)ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.


### getDerivedStateFromProps()


getDerivedStateFromProps()ëŠ” ë§ˆìš´íŒ… ë‹¨ê³„ì—ì„œ ì´ˆê¸°í™” ì´í›„ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ë‹¤. ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•Šê³  ì‚¬ìš©í•˜ë”ë¼ë„ ë§ì€ ì˜¤ë¥˜ë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤ê³  í•œë‹¤.

ì´ ë©”ì„œë“œëŠ” **props ê°’ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì˜ stateë¥¼ ë³€ê²½í•˜ëŠ” ë° ì‚¬ìš©**ëœë‹¤. 

propsì™€ state ë‘ ê°œì˜ ì¸ìë¥¼ ë°›ì€ í›„ ë°˜í™˜ê°’ìœ¼ë¡œ stateë¥¼ ê°±ì‹ í•˜ê¸° ìœ„í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. ë³€ê²½ì´ ì—†ëŠ” ê²½ìš°, nullì´ ë°˜í™˜ëœë‹¤.


### render()


render()ëŠ” í´ë˜ìŠ¤ ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ì˜ í•„ìˆ˜ì ì¸ ë©”ì„œë“œë¡œ, getDerivedStateFromProps() ë©”ì„œë“œ ì´í›„ í˜¸ì¶œë˜ë©° **ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§**í•œë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ render()ëŠ” **ë Œë”ë§ë  JSXë¥¼ ë°˜í™˜**í•˜ëŠ” ê²ƒì´ ì£¼ ì—­í• ì´ë‹¤. 

ì»´í¬ë„ŒíŠ¸ì˜ stateë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜, ë¸Œë¼ìš°ì €ì™€ ìƒí˜¸ ì‘ìš©ì„ í•˜ê±°ë‚˜, HTTP ìš”ì²­ê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ë‹¤.ë‹¨ìˆœíˆ **HTMLì„ ê·¸ë¦¬ëŠ” ì—­í• **ì„ í•œë‹¤ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.


### componentDidMount()


componentDidMount()ëŠ” **ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ëœ ì§í›„ ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ**ì´ë‹¤.

ì´ ë©”ì„œë“œëŠ” ì£¼ë¡œ API ìš”ì²­ ê°™ì€ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©ëœë‹¤. 

ê°„ë‹¨í•˜ê²Œ **DOMì´ ì—†ì„ ë•Œ í•˜ì§€ ëª»í–ˆë˜ ì‘ì—…ë“¤ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œ**ë¼ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.


### ì˜ˆì œ

```jsx
// ë²„íŠ¼ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ ì¹´ìš´íŒ… ë˜ëŠ” ì»´í¬ë„ŒíŠ¸

import React from "react";

class ComponentDidMount extends React.Component {
	// state ì´ˆê¸°í™” ë° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë°”ì¸ë”©
	constructor(props) {
		super(props);
		console.log('Constructor called');
		this.state = {
			count: 0
		};
	}
	
	// propsë¡œ stateë¥¼ ë³€ê²½
	static getDerivedStateFromProps(props, state) {
		console.log('getDerivedStateFromProps Called');
		return null;
	}
	
	// ë Œë”ë§ ì´í›„ ì²˜ë¦¬í•  ì‘ì—…(e.g. ë„¤íŠ¸ì›Œí¬ ìš”ì²­)ì„ ìˆ˜í–‰
	componentDidMount() {
		console.log('componentDidMount called');
	}
	
	incrementCount = () => {
		this.setState(prevState => ({
			count: prevState.count + 1
		}));
	};
	
	// JSXë¡œ HTML ê·¸ë¦¬ê¸°
	render() {
		console.log('render called');
		return (
			<div>
				<h1>Counter</h1>
				<p> Count : {this.state.count}</p>
				<button onClick={this.incrementCount}>Increment</button>
			</div>
		);
	}
}
```

## ì—…ë°ì´íŒ… (Updating Phase)

ì—…ë°ì´íŒ… ë‹¨ê³„ëŠ” propsë‚˜ stateê°€ ë³€ê²½ë˜ì–´ **ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ê±°ë‚˜ ì–´ë– í•œ ë³€ê²½ì´ ìˆì„ ë•Œ ìˆ˜í–‰ë˜ëŠ” ë‹¨ê³„**ì´ë‹¤.

ë§ˆìš´íŒ… ë‹¨ê³„ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ 5ê°œì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.  
- getDerivedStateFromProps
- shouldComponentUpdate
- render
- getSnapshotBeforeUpdate
- componentDidUpdate


### shouldComponentUpdate()


shouldComponentUpdate()ëŠ” ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•Šê³  ì„±ëŠ¥ ìµœì í™”ì— ì‚¬ìš©ë˜ëŠ” ë©”ì„œë“œë¼ê³  í•œë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ëŠ” stateë‚˜ propsê°€ ë³€ê²½ë˜ë©´ ë¦¬ë Œë”ë§ëœë‹¤. ì´ë•Œ ì´ ë©”ì„œë“œë¥¼ í†µí•´ **propsë‚˜ stateê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—…ë°ì´íŠ¸í• ì§€ ì—¬ë¶€ë¥¼ ì œì–´**í•  ìˆ˜ ìˆë‹¤.

ì¦‰, nextPropsì™€ nextState ë‘ ê°œì˜ ì¸ìë¥¼ ë°›ê³  ì»´í¬ë„ŒíŠ¸ì˜ í˜„ì¬ propsì™€ stateë¥¼ ë¹„êµí•œ ë’¤ boolean ê°’ì„ í†µí•´ ì»´í¬ë„ŒíŠ¸ì˜ ì—…ë°ì´íŠ¸ ì—¬ë¶€ë¥¼ ì œì–´í•œë‹¤.


### getSnapshotBeforeUpdate()


getSnapshotBeforeUpdate()ëŠ” í˜„ì¬ **ë³€ê²½ ì‚¬í•­ì´ DOMì— ì ìš©ë˜ê¸° ì „**ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ë‹¤. 

ì¦‰, render()ì™€ componentDidUpdate()ì˜ ì‚¬ì´ì—ì„œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ê³  ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤. 

ì´ ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì€ **ì—…ë°ì´íŠ¸ë¡œ ì¸í•´ ë³€ê²½ë  ìˆ˜ ìˆëŠ” DOM ì •ë³´**ì´ë©°, componentDidUpate()ì˜ ì„¸ ë²ˆì§¸ ì¸ìë¡œ ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤.


### componentDidUpdate()


componentDidUpdate()ëŠ” ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸(ë¦¬ë Œë”ë§)ë¥¼ ë§ˆì¹˜ê³  í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ë‹¤.

ì´ ë©”ì„œë“œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì´ì „ì˜ propsì™€ stateë¥¼ í˜„ì¬ì˜ propsì™€ stateì™€ ë¹„êµí•˜ëŠ” ì¡°ê±´ì— ë”°ë¼ì„œ ì¶”ê°€ì ì¸ ìš”ì²­ì„ í•˜ê¸°ìœ„í•´ ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤.


### ì˜ˆì œ

```jsx
import React from "react";

class UpdatingExample extends React.Component {
    constructor(props) {
      super(props);
      this.state = {
        name: 'John',
        changed: false
      };
      console.log('Constructor called');
    }
  
	// propsë¡œ stateë¥¼ ë³€ê²½
    static getDerivedStateFromProps(props, state) {
      console.log('getDerivedStateFromProps called');
      return null;
    }
  
    // ì»´í¬ë„ŒíŠ¸ì˜ ë³€ê²½ ì—¬ë¶€ë¥¼ ì œì–´
    shouldComponentUpdate(nextProps, nextState) {
      console.log('shouldComponentUpdate called');
      return true;
    }

	// ë Œë”ë§ ì´í›„ ë³€ê²½ë  DOM ì •ë³´ ìº¡ì²˜
    getSnapshotBeforeUpdate(nextProps, nextState) {
        console.log('getSnapshotBeforeUpdate called');
        return null;
    }
  
	// ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ ì´í›„ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
    componentDidUpdate(prevProps, prevState) {
      console.log('componentDidUpdate called');
    }
  
    changeName = () => {
      this.setState({
        name: 'Jane',
        changed:true
      });
    };
  
    render() {
      console.log('render called');
      return (
        <div>
          <h1>Updating Example</h1>
          <div>Name {this.state.changed ? <h3>{this.state.name}</h3>: <p>{this.state.name}</p>}</div>
          <button onClick={this.changeName}>Change Name</button>
        </div>
      );
    }
  }

  export default UpdatingExample
```

## ì–¸ë§ˆìš´íŒ… (Unmounting Phase)


ì–¸ë§ˆìš´íŒ… ë‹¨ê³„ëŠ” ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸°ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ, **ì»´í¬ë„ŒíŠ¸ê°€ DOMì—ì„œ ì œê±°ë˜ì–´ ë” ì´ìƒ ë Œë”ë§ë˜ê±°ë‚˜ ì ‘ê·¼í•  ìˆ˜ ì—†ê²Œí•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰**í•œë‹¤.

ì´ ë‹¨ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ìˆ˜í–‰ëœë‹¤.

1. ì»´í¬ë„ŒíŠ¸ê°€ ë” ì´ìƒ í•„ìš”ì—†ì„ ë•Œ
2. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ í¬í•¨í•˜ì§€ ì•Šê³  ë¦¬ë Œë”ë§ ë  ë•Œ
3. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¤ë¥¸ í˜ì´ì§€ë‚˜ ë·°ë¡œ ì´ë™í•  ë•Œ

ì–¸ë§ˆìš´íŒ… ë‹¨ê³„ì—ì„œëŠ” componentWillUnmount ìƒëª…ì£¼ê¸° ë©”ì„œë“œë§Œ í˜¸ì¶œëœë‹¤.


### componentWillUnmount()


componentWillUnmount()ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ DOMì—ì„œ ì œê±°ë˜ê¸° ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ë‹¤.

ì´ ë©”ì„œë“œëŠ” íƒ€ì´ë¨¸ ì·¨ì†Œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°, ë§ˆìš´íŒ… ë‹¨ê³„ì—ì„œ ì„¤ì •í•œ ë°ì´í„° êµ¬ì¡° ì§€ìš°ê¸°ì™€ ê°™ì€ **í•„ìš”í•œ ì •ë¦¬ ì‘ì—…ì„ ìˆ˜í–‰**í•œë‹¤.


### ì˜ˆì œ

```jsx
import React from "react";

class Child extends React.Component {
    componentDidMount() {
      console.log('Component mounted');
    }
  
    // ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ê¸° ì „ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰
    componentWillUnmount() {
      console.log('Component unmounted');
    }
  
    render() {
      return (
        <div>
          
          <p>Child Component content</p>
        </div>
      );
    }
  }
  
  export default class UnmountingExample extends React.Component {
    constructor(props) {
      super(props);
      this.state = {
        showComponent: true
      };
    }
    
    toggleComponent = () => {
      this.setState(prevState => ({
        showComponent: !prevState.showComponent
      }));
    };
  
    render() {
      return (
        <div>
          <h1 >Main Component</h1>
          {this.state.showComponent && <Child />}
          <button onClick={this.toggleComponent}>
            {this.state.showComponent ? 'Unmount' : 'Mount'}
          </button>
        </div>
      );
    }
  }
```

## Reference

https://medium.com/@arpitparekh54/understanding-the-react-component-lifecycle-a-deep-dive-into-the-life-of-a-react-component-74813cb8dfb5

https://velog.io/@wlwl99/React-%ED%81%B4%EB%9E%98%EC%8A%A4%ED%98%95-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0Lifecycle

<br/>

# ğŸ”¥ ì˜¤ëŠ˜ì˜ ë„ì „ ê³¼ì œì™€ í•´ê²° ë°©ë²•

- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸°ì— ëŒ€í•´ í•™ìŠµí–ˆë‹¤ !

<br/>

# ğŸ—¨ï¸ ì˜¤ëŠ˜ì˜ íšŒê³ 

- ë¦¬ì•¡íŠ¸ ê³µë¶€ ì‹œì‘ ~~


<!--
- ì˜¤ëŠ˜ì˜ í•™ìŠµ ê²½í—˜ì— ëŒ€í•œ ììœ ë¡œìš´ ìƒê°ì´ë‚˜ ëŠë‚€ ì ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
- ì„±ê³µì ì¸ ì , ê°œì„ í•´ì•¼ í•  ì , ìƒˆë¡­ê²Œ ì‹œë„í•˜ê³  ì‹¶ì€ ë°©ë²• ë“±ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.-->

