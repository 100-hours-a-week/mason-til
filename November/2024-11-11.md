# ğŸ“† 2024-11-11

# ğŸ”” ìŠ¤í¬ëŸ¼

- í•™ìŠµ ëª©í‘œ 1 : this

<br/>

# ğŸš€ Today I Learned


thisëŠ” JSì—ì„œ **í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ í•¨ìˆ˜ë‚˜ ë©”ì„œë“œê°€ ì†í•œ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” í‚¤ì›Œë“œ**ì´ë‹¤. 

Javaì—ì„œë„ this í‚¤ì›Œë“œê°€ ìˆëŠ”ë°, ì´ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ ìì‹ ì„ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡° ë³€ìˆ˜ë¡œë§Œ ì‚¬ìš©ëœë‹¤. ì£¼ë¡œ ë§¤ê°œë³€ìˆ˜ì™€ ë©¤ë²„ ë³€ìˆ˜ì˜ ì´ë¦„ì´ ê°™ì„ ê²½ìš° ì´ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

ë°˜ë©´, JSì—ì„œì˜ thisëŠ” **ë°”ì¸ë”©ë˜ëŠ” ê°ì²´ê°€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë‹¬ë¼ì§€ê²Œ ëœë‹¤**.

## í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ê³¼ this ë°”ì¸ë”©


JSì˜ this í‚¤ì›Œë“œëŠ” í•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ ë°”ì¸ë”©ë˜ëŠ” ê°ì²´ê°€ ì •ì ìœ¼ë¡œ ê²°ì •ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ í•¨ìˆ˜ê°€ **ì–´ë–»ê²Œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€**ì— ë”°ë¼ thisì— ë°”ì¸ë”©í•  ê°ì²´ê°€ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.

í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë•Œ ê²°ì •ë˜ëŠ” ê²ƒì€ í•¨ìˆ˜ì˜ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê²°ì •í•˜ëŠ” ë°©ì‹ì¸ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ì´ë‹¤.

this ë°”ì¸ë”©ì€ ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.
- ê¸°ë³¸ ë°”ì¸ë”©
- ì•”ì‹œì  ë°”ì¸ë”©
- ëª…ì‹œì  ë°”ì¸ë”©
- new ë°”ì¸ë”©
- í™”ì‚´í‘œ í•¨ìˆ˜ (ES6)


## ê¸°ë³¸ ë°”ì¸ë”© (Default Binding)


ê¸°ë³¸ ë°”ì¸ë”©ì€ this ë°”ì¸ë”© ê·œì¹™ ì¤‘ í•´ë‹¹í•˜ëŠ” ê²ƒì´ ì—†ì„ ë•Œ ì ìš©ë˜ëŠ” ê¸°ë³¸ ê·œì¹™ì´ë‹¤.

ê¸°ë³¸ ë°”ì¸ë”©ì´ ì ìš©ë  ê²½ìš° **thisëŠ” ì „ì—­ ê°ì²´ì— ë°”ì¸ë”©**ëœë‹¤. 

ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œëŠ” windowë¥¼ ê°€ë¦¬í‚¤ê³  Node.js í™˜ê²½ì—ì„œëŠ” global ë˜ëŠ” module.exportsë¥¼ ê°€ë¦¬í‚¨ë‹¤.


```jsx
console.log(this === window); // ë¸Œë¼ìš°ì € í™˜ê²½
console.log(this === gloabl); // Node.js REPL
console.log(this === module.exports); // Node.js IDE

// ê¸°ë³¸ ë°”ì¸ë”©
const showOuterThis = function () {
	console.log('outer function', this === window);

	const showInner = function () {
		console.log('inner function', this === window);
	}
	showInner();
}

showOuterThis();
```

## ì•”ì‹œì  ë°”ì¸ë”© (Implicit Binding)


ì•”ì‹œì  ë°”ì¸ë”©ì€ **í•¨ìˆ˜ê°€ ê°ì²´ì˜ ë©”ì„œë“œë¡œ í˜¸ì¶œ**ë  ë•Œ ì ìš©ë˜ëŠ” this ë°”ì¸ë”© ê·œì¹™ì´ë‹¤.

ì•”ì‹œì  ë°”ì¸ë”©ì´ ì ìš©ë  ê²½ìš° thisëŠ” **í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ì— ë°”ì¸ë”©**ëœë‹¤.


```jsx
const obj = {
	method() {
		// ë©”ì„œë“œì˜ this
		console.log('method', this === obj);

		// ë©”ì„œë“œ ë‚´ì˜ ë‚´ë¶€ í•¨ìˆ˜ this
		const methodInnerFunc = function () {
			console.log('method inner function', this === global);
		}

		methodInnerFunc();
	}
}

obj.method();
```


ì•”ì‹œì  ë°”ì¸ë”©ì—ì„œ ì£¼ì˜í•´ì•¼í•  ì ì€ **ë©”ì„œë“œ ë‚´ì˜ ë‚´ë¶€ í•¨ìˆ˜ì˜ thisëŠ” ê¸°ë³¸ ë°”ì¸ë”©ì´ ì ìš©ë˜ì–´ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤**.


```jsx
const obj = {
    callback() {
        console.log('method used callback', this);
        console.log(this === window);
    }
}

setTimeout(obj.callback, 1000);

// ì¶œë ¥
method used callback Window {...}
true
```


ë©”ì„œë“œë¥¼ ì½œë°± í•¨ìˆ˜ë¡œ ì „ë‹¬í•´ ì‹¤í–‰í•  ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ **ê¸°ë³¸ ë°”ì¸ë”©ì´ ì ìš©ë˜ì–´ ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤**.

ì´ëŠ” setTimeout ë‚´ë¶€ì—ì„œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œëŠ” objì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šê³  callbackì´ë¼ëŠ” í•¨ìˆ˜ì˜ ë ˆí¼ëŸ°ìŠ¤ì´ê¸° ë•Œë¬¸ì´ë‹¤.


## ëª…ì‹œì  ë°”ì¸ë”© (Explicit Binding)


ëª…ì‹œì  ë°”ì¸ë”©ì€ Function.prototypeì— ì •ì˜ë˜ì–´ ìˆëŠ” **call, apply, bind ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œ**í•  ë•Œ ì ìš©ë˜ëŠ” this ë°”ì¸ë”© ê·œì¹™ì´ë‹¤.

ëª…ì‹œì  ë°”ì¸ë”©ì´ ì ìš©ë  ê²½ìš° **ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•œ ê°ì²´ì— ë°”ì¸ë”©** ëœë‹¤.

- call : í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ thisë¥¼ ë°”ì¸ë”©í•œë‹¤. ì¸ìë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ë°›ëŠ”ë‹¤.
- apply : í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ thisë¥¼ ë°”ì¸ë”©í•œë‹¤. ì¸ìë¥¼ ë°°ì—´ë¡œ ë°›ëŠ”ë‹¤.
- bind : í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  thisë¥¼ ë°”ì¸ë”©í•œ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.


```jsx
// ëª…ì‹œì  ë°”ì¸ë”©
const foo = {
	a: 'answer: '
}

const bar = function (arg1, arg2) {
	console.log(`${this.a} ${arg1} * ${arg2} = ${arg1 * arg2}`);
}

bar.call(foo, 2, 5);
bar.apply(foo, [3, 5]);

const bind = bar.bind(foo);
bind(4, 5);

// ì¶œë ¥
answer:  2 * 5 = 10
answer:  3 * 5 = 15
answer:  4 * 5 = 20
```


bindì˜ ê²½ìš° í•œ ë²ˆ ê°ì²´ê°€ ë°”ì¸ë”©ë˜ë©´ ê·¸ ì´í›„ë¡œ ë‹¤ì‹œ bindë¥¼ í•˜ê±°ë‚˜ apply ë˜ëŠ” callì„ ì´ìš©í•´ì„œ ìƒˆë¡­ê²Œ ë°”ì¸ë”©ì„ ì‹œë„í•˜ë”ë¼ë„ **ë°”ì¸ë”©ëœ ê°ì²´ëŠ” ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤**.


## new ë°”ì¸ë”© (new Binding)


JSì˜ ìƒì„±ì í•¨ìˆ˜ëŠ” **í•¨ìˆ˜ì— new í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ í˜¸ì¶œ**í•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ê°€ ìƒì„±ì í•¨ìˆ˜ë¡œ ë™ì‘í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ê°–ëŠ”ë‹¤.

new ë°”ì¸ë”©ì€ new í‚¤ì›Œë“œë¥¼ í†µí•´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì ìš©ë˜ëŠ” this ë°”ì¸ë”© ê·œì¹™ì´ë‹¤.

new ë°”ì¸ë”©ì´ ì ìš©ë  ê²½ìš° **ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒˆë¡œ ìƒì„±ë  ê°ì²´ì— ë°”ì¸ë”©**ëœë‹¤.


```jsx
function Person(name) {
	this.name = name;
}

Person.prototype.sayName = function () {
	console.log(this.name);
}

const person = new Person('mason');
person.sayName();

// ì¶œë ¥
mason
```

## í™”ì‚´í‘œ í•¨ìˆ˜


ì•ì„œ ë³´ì•˜ë˜ this ë°”ì¸ë”©ë“¤ì€ í•¨ìˆ˜ì˜ í˜¸ì¶œì‹œì ì— ë™ì ìœ¼ë¡œ thisì— ë°”ì¸ë”©ë˜ëŠ” ê°ì²´ê°€ ì •í•´ì¡Œë‹¤.

ê·¸ëŸ¬ë‚˜, í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ê²½ìš° **ì •ì˜ ì‹œì ì— ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê°€ë¦¬í‚¤ëŠ” ì •ì ì¸ ë°©ì‹ìœ¼ë¡œ thisê°€ ë°”ì¸ë”©**ëœë‹¤.


```jsx
const obj = {
	name: 'mason',
	sayNameWithArrow() {
		setTimeout(() => {
			console.log(this.name);
		}, 1000);
	},
	sayNameWithFunc() {
		setTimeout(() => {
			console.log(this.name);
		}, 1000);
	}
}

obj.sayNameWithArrow();
obj.sayNameWithFunc();
```

## Reference

https://seungtaek-overflow.tistory.com/21

https://www.timegambit.com/blog/js/this

<br/>

# ğŸ”¥ ì˜¤ëŠ˜ì˜ ë„ì „ ê³¼ì œì™€ í•´ê²° ë°©ë²•

- thisì— ëŒ€í•´ í•™ìŠµ 

<br/>

# ğŸ—¨ï¸ ì˜¤ëŠ˜ì˜ íšŒê³ 

-  ì˜¤ëŠ˜ì€ TIL ì‘ì„±ì— í¬ê²Œ ì‹œê°„ì„ í• ë‹¹í•˜ì§€ ëª»í–ˆë‹¤..


<!--
- ì˜¤ëŠ˜ì˜ í•™ìŠµ ê²½í—˜ì— ëŒ€í•œ ììœ ë¡œìš´ ìƒê°ì´ë‚˜ ëŠë‚€ ì ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
- ì„±ê³µì ì¸ ì , ê°œì„ í•´ì•¼ í•  ì , ìƒˆë¡­ê²Œ ì‹œë„í•˜ê³  ì‹¶ì€ ë°©ë²• ë“±ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.-->

