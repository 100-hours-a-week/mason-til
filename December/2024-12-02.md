# ğŸ“† 2024-12-02

# ğŸ”” ìŠ¤í¬ëŸ¼

- í•™ìŠµ ëª©í‘œ 1 : URL.createObjectURLê³¼ FileReader.readAsDataURLì— ëŒ€í•´ ì•Œì•„ë³´ì.

<br/>

# ğŸš€ Today I Learned


í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ, ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ë³´ê¸°ë¡œ í‘œì‹œí•˜ë ¤ë©´ íŒŒì¼ ë°ì´í„°ë¥¼ **ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” URLë¡œ ë³€í™˜**í•´ì•¼ í•œë‹¤.

íŒŒì¼ ë°ì´í„°ë¥¼ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” URLë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ URL.createObjectURLê³¼ FileReader.readAsDataURLê°€ ìˆë‹¤.

ê° ë°©ë²•ì˜ íŠ¹ì§•ê³¼ ì¥ë‹¨ì ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ë ¤ê³  í•œë‹¤.


## URL.createObjectURL

URL.createObjectURLì€ íŒŒì¼ ë°ì´í„°ë¥¼ **Blob URLë¡œ ë³€í™˜**í•œë‹¤. 

Blob URLì€ **ë¸Œë¼ìš°ì €ì˜ ë©”ëª¨ë¦¬**ì—ì„œ íŒŒì¼ ë°ì´í„°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ìœ íš¨í•œ URLì´ë‹¤. ë”°ë¼ì„œ, **ë¸Œë¼ìš°ì € ë‚´ë¶€ì—ì„œë§Œ ìœ íš¨**í•˜ë‹¤.

ë˜í•œ, **íŒŒì¼ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ì§€ ì•Šê³  ë°”ë¡œ URLì„ ìƒì„±**í•˜ê¸° ë•Œë¬¸ì— ë¹„êµì  ì„±ëŠ¥ì´ ì¢‹ë‹¤.

ê·¸ëŸ¬ë‚˜, ì‚¬ìš©ì´ ëë‚œ í›„ ì§ì ‘ URL.revokeObjectURLë¡œ **URLì„ í•´ì œí•˜ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒ**í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.

URL.createObjectURLì€ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

- íŒŒì¼ì„ ì„œë²„ë¡œ ì „ì†¡í•˜ì§€ ì•Šê³ , **ë‹¨ìˆœíˆ ì´ë¯¸ì§€ë¥¼ ë Œë”ë§í•˜ê¸° ìœ„í•œ ìƒí™©**
- **íŒŒì¼ í¬ê¸°ê°€ í¬ê³ , ë¹ ë¥¸ ë¯¸ë¦¬ë³´ê¸°ê°€ í•„ìš”**í•œ ìƒí™©

```
ğŸ’¡ Blob(Binary Large Object)ëŠ” ì´ì§„ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ, ëŒ€ìš©ëŸ‰ ë°ì´í„°(e.g. ì´ë¯¸ì§€, ì˜¤ë””ì˜¤, ë¹„ë””ì˜¤ íŒŒì¼)ì„ ì €ì¥í•˜ê±°ë‚˜ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©ëœë‹¤.
```

```jsx
const handleImageUpload = (e) => {
	const file = e.target.files?.[0];
	if (!file) return;
	
	const imageUrl = URL.createObjectURL(file);
	
	// ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ì„¤ì •
	document.getElementById("preview").src = imageUrl;
	
	// URL í•´ì œ
	return () => URL.revokeObjectURL(imageUrl);
};
```

## FileReader.readAsDataURL

FileReader.readAsDataURLì€ íŒŒì¼ ë°ì´í„°ë¥¼ **Base64ë¡œ ì¸ì½”ë”©ëœ ë¬¸ìì—´ë¡œ ë³€í™˜**í•œë‹¤.

Base64 ë°ì´í„° URLì€ **íŒŒì¼ ë°ì´í„°ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ë¬¸ìì—´**ì´ë‹¤. ë”°ë¼ì„œ, **ë¸Œë¼ìš°ì € ë¿ë§Œ ì•„ë‹ˆë¼ ì™¸ë¶€ í™˜ê²½ì—ì„œë„ ì‚¬ìš©**í•  ìˆ˜ ìˆë‹¤.

Blob URLê³¼ ë‹¬ë¦¬ ë¸Œë¼ìš°ì €ì˜ ë©”ëª¨ë¦¬ì— ì˜ì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— **ì„œë²„ë¡œ ì „ì†¡í•˜ê±°ë‚˜ ì €ì¥**í•  ìˆ˜ ìˆìœ¼ë©°, **ë©”ëª¨ë¦¬ í•´ì œì™€ ê°™ì€ ì¶”ê°€ì ì¸ ê´€ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤**.

ê·¸ëŸ¬ë‚˜, **íŒŒì¼ ë°ì´í„°ë¥¼ ì½ì–´ì„œ ë³€í™˜í•˜ëŠ” ê³¼ì •**ì´ ìˆê³ , **ë³€í™˜ ì‹œ íŒŒì¼ í¬ê¸°ê°€ ì•½ 33% ì¦ê°€**í•˜ê¸° ë•Œë¬¸ì— ëŒ€ìš©ëŸ‰ íŒŒì¼ì—ì„œëŠ” ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

FileReader.readAsDataURLì€ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

- **íŒŒì¼ ë°ì´í„°ë¥¼ ì „ì†¡**í•˜ê±°ë‚˜, **ë¸Œë¼ìš°ì € ì™¸ë¶€ í™˜ê²½ì—ì„œ ì‚¬ìš©**í•´ì•¼í•˜ëŠ” ìƒí™©

```
ğŸ’¡Base64ëŠ” ì´ì§„ ë°ì´í„°ë¥¼ í…ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì¸ì½”ë”© ë°©ì‹ìœ¼ë¡œ, ë°ì´í„°ë¥¼ 6ë¹„íŠ¸ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ í…ìŠ¤íŠ¸(e.g. ì•ŒíŒŒë²³, ìˆ«ì, +, /)ë¡œ í‘œí˜„í•œë‹¤
```

```jsx
const handleImageUpload = (e) => {
	const file = e.target.files?.[0];
	if (!file) return;
	
	const reader = new FileReader();
	
	reader.onload = (e) => {
		const base64DataUrl = e.target.value;
	};	
	
	reader.readAsDataURL(file);
};
```

## ìš”ì•½ í‘œ

| íŠ¹ì§• | URL.createObjectURL | FileReader.readAsDataURL |
| --- | --- | --- |
| ê¸°ë°˜ ê¸°ìˆ  | Blob URL | Base64 ë°ì´í„° URL |
| ì²˜ë¦¬ ì†ë„ | ë§¤ìš° ë¹ ë¦„ | ëŠë¦¼ (íŒŒì¼ ë³€í™˜ í•„ìš”) |
| íŒŒì¼ í¬ê¸° ì˜í–¥ | ì—†ìŒ | ì•½ 33% ì¦ê°€ |
| ë©”ëª¨ë¦¬ ê´€ë¦¬ | URL í•´ì œ í•„ìš” | ì¶”ê°€ ê´€ë¦¬ ë¶ˆí•„ìš” |
| ì™¸ë¶€ ì „ì†¡ ê°€ëŠ¥ ì—¬ë¶€ | ë¶ˆê°€ëŠ¥ | ê°€ëŠ¥ (Base 64 ë¬¸ìì—´ë¡œ ì „ì†¡) |

## Reference

https://stackoverflow.com/questions/31742072/filereader-vs-window-url-createobjecturl


<br/>

# ğŸ”¥ ì˜¤ëŠ˜ì˜ ë„ì „ ê³¼ì œì™€ í•´ê²° ë°©ë²•

- URL.createObjectURLê³¼ FileReader.readAsDataURLì— ëŒ€í•´ í•™ìŠµ !

<br/>

# ğŸ—¨ï¸ ì˜¤ëŠ˜ì˜ íšŒê³ 



<!--
- ì˜¤ëŠ˜ì˜ í•™ìŠµ ê²½í—˜ì— ëŒ€í•œ ììœ ë¡œìš´ ìƒê°ì´ë‚˜ ëŠë‚€ ì ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
- ì„±ê³µì ì¸ ì , ê°œì„ í•´ì•¼ í•  ì , ìƒˆë¡­ê²Œ ì‹œë„í•˜ê³  ì‹¶ì€ ë°©ë²• ë“±ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.-->

