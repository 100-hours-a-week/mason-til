# 📆 2024-12-11

# 🔔 스크럼

- 학습 목표 1 :  도커 
<br/>

# 🚀 Today I Learned

## Docker란 무엇인가

도커는 어플리케이션과 실행에 필요한 요소를 **컨테이너 단위로 패키징**하여, 어디서든 **일관된 환경**에서 실행할 수 있도록 지원하는 오픈 소스 플랫폼이다.

도커를 통해 어플리케이션의 개발, 배포, 운영 과정을 효율적으로 관리할 수 있으며 다음과 같은 특징을 갖는다.

**[자급자족 (Self-contained)]**

각 도커 컨테이너는 **어플리케이션 실행에 필요한 모든 파일과 설정을 포함**하여 동작한다. 

특정 버전의 라이브러리가 필요한 어플리케이션을 컨테이너화하면, 해당 컨테이너 내에 필요한 라이브러리가 포함되어 다른 환경에서도 동일하게 실행할 수 있다.

**[격리성 (Isolated)]**

각 도커 컨테이너는 서로 독립된 환경에서 실행되기 때문에 하나의 컨테이너에서 발생한 문제가 **다른 컨테이너에 영향을 주지 않는다**.

**[독립성 (Independent)]**

컨테이너는 **호스트 시스템과 독립적으로 동작하며, 필요한 리소스만을 사용**한다. 

특정 애플리케이션이 필요한 라이브러리나 설정이 호스트 시스템과 충돌할 우려가 있을 때, 해당 애플리케이션을 컨테이너로 실행하면 이러한 충돌을 방지할 수 있다.

**[이식성 (Portable)]**

도커 컨테이너는 도커 엔진이 설치된 모든 환경에서 동일하게 실행될 수 있기 때문에 **환경 차이로 인한 문제를 최소화**할 수 있다.

## 컨테이너와 이미지의 차이점

### Docker Image

![](https://docs.docker.com/build/images/cache-stack.png)

도커 이미지는 도커 **컨테이너를 만들기 위한** 명령어들이 포함된 **읽기 전용 템플릿**이다.

이미지는 직접 만들 수도 있고 Registry에서 다른 사용자가 만든 이미지를 사용할 수도 있다. 직접 이미지를 만드는 경우, 이미지를 생성하고 실행하는데 필요한 명령어들을 작성한 **Dockerfile**을 만들고 빌드하면 된다.

이때 Dockerfile의 **각 명령어는 이미지에 레이어를 생성**하는데, 이는 Dockerfile을 변경하고 다시 빌드할 때 **변경된 레이어부터 다시 빌드**되도록 하기 위함이다. 따라서, 다른 가상화 기술에 비해 이미지를 **가볍고 빠르게** 만들 수 있다고 한다.

### Docker Container

도커 컨테이너는 **어플리케이션과 어플리케이션 실행에 필요한 요소들이 패키징된 표준 단위**로, 도커 엔진에서 도커 이미지를 실행해 만들어진 가상환경이다.

도커 컨테이너는 다른 컨테이너와 호스트 시스템으로부터 잘 격리되어 있기 때문에 **항상 일관성있게 실행되며 보안성이 높다**. 또한, 도커 엔진이 설치된 환경이라면 동일하게 실행될 수 있기 때문에 **이식성이 높다**.

도커 컨테이너는 **호스트의 커널을 공유**하기 때문에 어플리케이션마다 OS가 필요하지 않아 **가볍고 비용 절감에 도움을 준다**.

## Docker 아키텍처

![](https://docs.docker.com/get-started/images/docker-architecture.webp)

도커는 **클라이언트-서버 아키텍처로 구성**되어 있다.

도커 클라이언트(Docker Client)는 도커 데몬과 통신을 통해 **도커 컨테이너를 빌드, 실행, 배포하는 작업을 수행**할 수 있다. 

도커 클라이언트는 대표적으로 Docker CLI와 Docker Compose가 있는데, 각 클라이언트의 특징은 다음과 같다.

- Docker CLI : 도커 명령어(docker)를 사용해서 컨테이너, 이미지, 네트워크, 볼륨 등을 관리한다.
- Docker Componse : docker-componse.yml을 사용해서 여러 컨테이너의 설정을 정의하고 docker-compose 명령어를 사용한다.

도커 클라이언트와 도커 데몬은 **REST API, UNIX 소켓, 네트워크 인터페이스를 사용해서 통신**한다.

이때 로컬 시스템의 도커 데몬과 통신(UNIX 소켓)할 수도 있고 원격 시스템의 도커 데몬과 통신(TCP)할 수도 있다.

도커 데몬(Docker Daemon)은 클라이언트로부터 요청을 수신하고 이미지, 컨테이너, 네트워크, 볼륨과 같은 **도커 오브젝트를 관리**하는 역할을 한다.

도커 레지스트리(Docker Registry)는 **도커 이미지가 저장되어 있는 공간**이다. 기본적으로 이미지를 가져올 때 Docker Hub에서 먼저 찾는다.

도커 클라이언트에서 docker pull이나 docker run 명령어를 실행하면 도커 데몬은 도커 레지스트리에서 필요한 이미지를 가져오는 방식으로 동작한다.


## VM과 Docker Container의 차이점

![](https://www.docker.com/wp-content/uploads/2021/11/docker-containerized-and-vm-transparent-bg.png)

도커 컨테이너와 VM은 모두 어플리케이션을 독립된 환경에서 실행될 수 있도록 **격리된 환경을 제공**하고 각 어플리케이션이 필요한 CPU, 메모리, 스토리지 등의 **리소스를 할당**해준다는 공통점이 있다. 

그러나 아키텍처 측면에서 차이가 있다.

VM의 경우 하이퍼바이저 위에 **자체적으로 OS를 포함**해서 실행하지만, 도커 컨테이너의 경우 **호스트 OS의 커널을 공유**함으로써 어플리케이션과 종속성만을 포함해 실행한다.

그렇기 때문에, 도커 컨테이너는 VM에 비해 오버헤드가 적어 **가볍고 빠르게 실행**할 수 있을 뿐 아니라, **더 적은 자원으로 더 많은 어플리케이션을 실행**할 수 있다. 또한, 도커 컨테이너는 어떤 환경에서도 **일관성있게 동작하기 때문에 이식성이 높다**.


## Reference

https://velog.io/@hyensukim/Docker-Docker-Image-Layer

[docker.com/resources/what-container](https://www.docker.com/resources/what-container/?_gl=1*1hk8i53*_ga*MTU2MTI0NTM2OC4xNzMzODkwNDcz*_ga_XJWPQMJYHQ*MTczMzg5MDQ3My4xLjEuMTczMzg5NDc5MS42MC4wLjA)

https://docs.docker.com/get-started/docker-overview/

# 🔥 오늘의 도전 과제와 해결 방법

- 도커

<br/>

# 🗨️ 오늘의 회고
- 도커에 대해 깊게 알게된 것 같아서 뿌듯하다.

<!--
- 오늘의 학습 경험에 대한 자유로운 생각이나 느낀 점을 기록합니다.
- 성공적인 점, 개선해야 할 점, 새롭게 시도하고 싶은 방법 등을 포함할 수 있습니다.-->
